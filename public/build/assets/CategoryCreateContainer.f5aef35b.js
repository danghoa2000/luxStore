import{a7 as V,R as e,T as b,aa as w,B,G as m,C as u,F as g,N as R,O as F,ar as I,as as H,h as L,at as K,i as Y,S as z,c as M,r as l,au as $,av as J,u as Q,d as O,ad as W,q as T,ae as X,a9 as Z,aw as ee}from"./index.5ce80200.js";import{B as te}from"./Breadcrumbs.f5b119d2.js";import{B as ae}from"./BorderColor.6ee4679d.js";import{S as re}from"./Select.fa04d544.js";import{T as se}from"./TextField.f7bb6de6.js";import{R as ne,F as G,a as P}from"./RadioGroup.7a04bd2c.js";import"./OutlinedInput.63c5b1ce.js";const le=v=>{const{redirectBack:_,handleCreate:f,toggleDirection:k,setToggleDirection:E,handleSubmit:S,control:c,reset:i,setValue:p,getValues:d,errors:s,loading:y,showNoti:x,status:h,setShowNoti:N,groupCategoryList:C}=v,[a]=V();return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement(b,{variant:"h4",gutterBottom:!0},"Brand"),e.createElement(te,{separator:"\u203A","aria-label":"breadcrumb"},e.createElement(w,{to:"/admin"},"Home"),e.createElement(w,{to:"/admin/categories"},"Brand"),e.createElement(b,null,"Create"))),e.createElement("div",{style:{marginBottom:10}},e.createElement(B,{variant:"contained",onClick:()=>_()},"Back")),e.createElement("form",{onSubmit:S(f)},e.createElement("div",{className:"card__admin"},e.createElement(b,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Basic information"),e.createElement(m,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(m,{item:!0,xs:6},e.createElement(u,{name:"category_code",control:c,render:({field:r})=>e.createElement(g,{variant:"standard"},e.createElement(R,{htmlFor:""},a("category.list.table.category_code"),e.createElement("span",{className:"required"})),e.createElement(F,{...r,startAdornment:e.createElement(I,{position:"start"},e.createElement(H,null)),placeholder:a("placehoder",{name:a("category.list.table.category_code")}),onBlur:t=>{p(t.target.id,t.target.value?t.target.value.trim():"")}}))}),s.category_code&&e.createElement("p",{className:"text-danger"},s.category_code.message)),e.createElement(m,{item:!0,xs:6},e.createElement(u,{name:"name",control:c,render:({field:r})=>e.createElement(g,{variant:"standard"},e.createElement(R,{htmlFor:"fullName"},a("category.list.table.name")),e.createElement(F,{id:"fullName",...r,startAdornment:e.createElement(I,{position:"start"},e.createElement(ae,null)),placeholder:a("placehoder",{name:a("category.list.table.name")}),onBlur:t=>{p(t.target.id,t.target.value?t.target.value.trim():"")}}))}),s.name&&e.createElement("p",{className:"text-danger"},s.name.message)),e.createElement(m,{item:!0,xs:6},e.createElement(u,{name:"group_category_id",control:c,render:({field:r})=>e.createElement(g,{variant:"standard"},e.createElement(re,{...r,label:a("category.list.table.group_category_id"),size:"small"},e.createElement(L,{key:"",value:-1,disabled:!0},"select group category"),C.length>0&&C.map(t=>e.createElement(L,{key:t.id,value:t.id},t.name))))}),s.group_category_id&&e.createElement("p",{className:"text-danger"},s.group_category_id.message)),e.createElement(m,{item:!0,xs:6},e.createElement(u,{name:"description",control:c,render:({field:r})=>e.createElement(g,{variant:"standard"},e.createElement(se,{...r,label:a("category.list.table.description"),multiline:!0,maxRows:4,variant:"standard"}))}),s.description&&e.createElement("p",{className:"text-danger"},s.description.message)))),e.createElement("div",{className:"card__admin"},e.createElement(b,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Setting"),e.createElement(m,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(m,{item:!0,xs:6},e.createElement("div",{className:"d-inline"},e.createElement(u,{name:"status",control:c,render:({field:r})=>e.createElement(g,null,e.createElement(K,{id:"status"},"Status",e.createElement("span",{className:"required"})),e.createElement(ne,{defaultValue:"1",...r,checked:"1"},e.createElement(G,{value:"1",control:e.createElement(P,null),label:"Active"}),e.createElement(G,{value:"0",control:e.createElement(P,null),label:"Block"})))}))))),e.createElement("div",{className:"d-flex justify-content-center w-100"},e.createElement(B,{variant:"contained",type:"submit",className:"m-1",disabled:y},y&&e.createElement(Y,{disableShrink:!0,style:{color:"white",width:"14px",height:"14px",margin:"0 5px 0 0"}}),"Create"),e.createElement(B,{variant:"contained",type:"reset",className:"m-1 btn-cancel",onClick:()=>i()},"Clear"))),x&&e.createElement(z,{type:h.type,message:h.message,setShowNoti:N}))},Ee=()=>{const v=M(),[_,f]=l.exports.useState(!1),[k,E]=l.exports.useState(!1),[S]=V(),[c,i]=l.exports.useState({}),[p,d]=l.exports.useState(!1),[s,y]=l.exports.useState([]),x=()=>v(-1),h=$().shape({category_code:J().required(S("validate.required",{name:"Category code"}))}),{handleSubmit:N,control:C,reset:a,setValue:r,getValues:t,setError:q,formState:{errors:D}}=Q({shouldUnregister:!1,defaultValues:{category_code:"",name:"",status:Z.ACTIVE,group_category_id:-1,description:""},resolver:ee(h)}),j=l.exports.useCallback(o=>{E(!0),O.post(W.CREATE,{...o}).then(n=>{n.data.code===T.HTTP_OK&&(i({type:"success",message:n.data.message}),a()),d(!0),E(!1)}).catch(({response:n})=>{n.data.code===T.UNPROCESSABLE_ENTITY&&Object.keys(n.data.errors).forEach(A=>{q(A,{type:"custom",message:Object.values(n.data.errors[A])})}),i({type:"error",message:n.data?n.data.message:"Server error"}),d(!0),E(!1)})},[]),U=l.exports.useCallback(()=>{O.get(X.LIST).then(o=>{o.data.code===T.HTTP_OK&&y(o.data.groupCategories)}).catch(o=>{i({type:"error",message:o.data?o.data.message:"Server error"}),d(!0)})},[]);return l.exports.useEffect(()=>{U()},[]),e.createElement(le,{redirectBack:x,handleCreate:j,toggleDirection:_,setToggleDirection:f,handleSubmit:N,control:C,reset:a,setValue:r,getValues:t,errors:D,loading:k,showNoti:p,status:c,setShowNoti:d,groupCategoryList:s})};export{Ee as default};
