import{r as n,s as N,t as I,v as h,ab as T,_ as E,x as k,y as M,a1 as H,H as b,I as A,J as $,am as K,Q as D,R as o,aU as z,T as P,j as J,k as Q,aj as Y,aV as X,l as Z,G as j,aa as ee,B as te,i as oe,S as se,d as B,aW as G,q as R,aF as ae}from"./index.5ce80200.js";import{T as re}from"./TextField.f7bb6de6.js";import{L as ne}from"./ListSubheader.7cd47645.js";import{C as ce,R as ie}from"./ReportProblem.91ad1bc7.js";import{B as de}from"./Breadcrumbs.f5b119d2.js";import"./Select.fa04d544.js";import"./OutlinedInput.63c5b1ce.js";const le=n.exports.createContext({}),V=le;function ue(e){return I("MuiAccordion",e)}const pe=N("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),w=pe,me=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],fe=e=>{const{classes:t,square:s,expanded:c,disabled:l,disableGutters:d}=e;return $({root:["root",!s&&"rounded",c&&"expanded",l&&"disabled",!d&&"gutters"],region:["region"]},ue,t)},xe=h(T,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${w.region}`]:t.region},t.root,!s.square&&t.rounded,!s.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${w.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${w.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e,ownerState:t})=>E({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${w.expanded}`]:{margin:"16px 0"}})),ge=n.exports.forwardRef(function(t,s){const c=k({props:t,name:"MuiAccordion"}),{children:l,className:d,defaultExpanded:u=!1,disabled:i=!1,disableGutters:m=!1,expanded:p,onChange:x,square:f=!1,TransitionComponent:r=ce,TransitionProps:y}=c,S=M(c,me),[a,g]=H({controlled:p,default:u,name:"Accordion",state:"expanded"}),v=n.exports.useCallback(F=>{g(!a),x&&x(F,!a)},[a,x,g]),[L,...O]=n.exports.Children.toArray(l),q=n.exports.useMemo(()=>({expanded:a,disabled:i,disableGutters:m,toggle:v}),[a,i,m,v]),U=E({},c,{square:f,disabled:i,disableGutters:m,expanded:a}),_=fe(U);return b.jsxs(xe,E({className:A(_.root,d),ref:s,ownerState:U,square:f},S,{children:[b.jsx(V.Provider,{value:q,children:L}),b.jsx(r,E({in:a,timeout:"auto"},y,{children:b.jsx("div",{"aria-labelledby":L.props.id,id:L.props["aria-controls"],role:"region",className:_.region,children:O})}))]}))}),be=ge;function Ee(e){return I("MuiAccordionDetails",e)}N("MuiAccordionDetails",["root"]);const ve=["className"],ye=e=>{const{classes:t}=e;return $({root:["root"]},Ee,t)},Ce=h("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),he=n.exports.forwardRef(function(t,s){const c=k({props:t,name:"MuiAccordionDetails"}),{className:l}=c,d=M(c,ve),u=c,i=ye(u);return b.jsx(Ce,E({className:A(i.root,l),ref:s,ownerState:u},d))}),Se=he;function Le(e){return I("MuiAccordionSummary",e)}const Ae=N("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),C=Ae,Re=["children","className","expandIcon","focusVisibleClassName","onClick"],we=e=>{const{classes:t,expanded:s,disabled:c,disableGutters:l}=e;return $({root:["root",s&&"expanded",c&&"disabled",!l&&"gutters"],focusVisible:["focusVisible"],content:["content",s&&"expanded",!l&&"contentGutters"],expandIconWrapper:["expandIconWrapper",s&&"expanded"]},Le,t)},Pe=h(K,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e,ownerState:t})=>{const s={duration:e.transitions.duration.shortest};return E({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],s),[`&.${C.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${C.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${C.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${C.expanded}`]:{minHeight:64}})}),Ne=h("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>E({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${C.expanded}`]:{margin:"20px 0"}})),Ie=h("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${C.expanded}`]:{transform:"rotate(180deg)"}})),Te=n.exports.forwardRef(function(t,s){const c=k({props:t,name:"MuiAccordionSummary"}),{children:l,className:d,expandIcon:u,focusVisibleClassName:i,onClick:m}=c,p=M(c,Re),{disabled:x=!1,disableGutters:f,expanded:r,toggle:y}=n.exports.useContext(V),S=v=>{y&&y(v),m&&m(v)},a=E({},c,{expanded:r,disabled:x,disableGutters:f}),g=we(a);return b.jsxs(Pe,E({focusRipple:!1,disableRipple:!0,disabled:x,component:"div","aria-expanded":r,className:A(g.root,d),focusVisibleClassName:A(g.focusVisible,i),onClick:S,ref:s,ownerState:a},p,{children:[b.jsx(Ne,{className:g.content,ownerState:a,children:l}),u&&b.jsx(Ie,{className:g.expandIconWrapper,ownerState:a,children:u})]}))}),ke=Te;function Me(e){return I("MuiCard",e)}N("MuiCard",["root"]);const $e=["className","raised"],je=e=>{const{classes:t}=e;return $({root:["root"]},Me,t)},Be=h(T,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),De=n.exports.forwardRef(function(t,s){const c=k({props:t,name:"MuiCard"}),{className:l,raised:d=!1}=c,u=M(c,$e),i=E({},c,{raised:d}),m=je(i);return b.jsx(Be,E({className:A(m.root,l),elevation:d?8:void 0,ref:s,ownerState:i},u))}),Ue=De,_e=D(b.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Ge=D([b.jsx("path",{d:"M17.59 18 19 16.59 14.42 12 19 7.41 17.59 6l-6 6z"},"0"),b.jsx("path",{d:"m11 18 1.41-1.41L7.83 12l4.58-4.59L11 6l-6 6z"},"1")],"KeyboardDoubleArrowLeft"),Ve=D([b.jsx("path",{d:"M6.41 6 5 7.41 9.58 12 5 16.59 6.41 18l6-6z"},"0"),b.jsx("path",{d:"m13 6-1.41 1.41L16.17 12l-4.58 4.59L13 18l6-6z"},"1")],"KeyboardDoubleArrowRight"),W=e=>{const{item:t,arrowLeft:s,title:c,setItem:l,addToSelectedList:d,removeFromSelectedList:u}=e,[i,m]=n.exports.useState(""),[p,x]=n.exports.useState(t),f=r=>{m(r.target.value)};return n.exports.useEffect(()=>{x(t),i&&i.length>0&&x(t.filter(r=>r.name.toLocaleLowerCase().includes(i.toLocaleLowerCase())))},[t,i]),o.createElement(z,{sx:{minWidth:275}},o.createElement(P,{textAlign:"center",color:"white",style:{padding:10}},c),o.createElement(Ue,{variant:"outlined"},o.createElement(T,{variant:"outlined"},o.createElement(re,{label:"Product name",placeholder:"search...",multiline:!0,variant:"filled",value:i,onChange:f}),o.createElement("div",null,o.createElement(J,{subheader:o.createElement(ne,null,"Product name"),style:{height:300,overflow:"auto"}},p.length>0?p.map(r=>o.createElement(Q,{key:r.id,disablePadding:!0,secondaryAction:o.createElement(Y,{edge:"end","aria-label":"delete",disabled:r==null?void 0:r.selected,onClick:()=>s?d(r):u(r)},s?o.createElement(Ve,{style:{color:r!=null&&r.selected?"#a0a4a9":"#1890ff"}}):o.createElement(Ge,{style:{color:"#1890ff"}}))},o.createElement(X,null,o.createElement(Z,{primary:r.name})))):o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",color:"#a0a4a9"}},o.createElement(ie,{style:{width:35,height:35}})," No data   "))))))},We=({productSelected:e,productListClone:t,arrowLeft:s,title:c,addToSelectedList:l,removeFromSelectedList:d})=>{const[u,i]=n.exports.useState(t);return n.exports.useEffect(()=>{const m=t.map(p=>e.find(({id:x})=>x===p.id)?{...p,selected:!0}:p);i(m)},[e,t]),o.createElement(W,{item:u,arrowLeft:s,title:c,addToSelectedList:l,removeFromSelectedList:d})},Oe=e=>{const{productList:t,item:s,setProductEventList:c,productEventList:l}=e,[d,u]=n.exports.useState([]),[i,m]=n.exports.useState([]);n.exports.useEffect(()=>{u(s!=null&&s.products?s==null?void 0:s.products.map(({id:f,name:r})=>({id:f,name:r})):[])},[s,t]),n.exports.useEffect(()=>{m([...t])},[t]);const p=n.exports.useCallback(f=>{u(r=>[...r,{...f}])},[]),x=n.exports.useCallback(f=>{u(d.filter(r=>r.id!==f.id))},[d]);return n.exports.useEffect(()=>{l[s.id]=d,c(l)},[d,l]),o.createElement(j,{container:!0,spacing:2,alignItems:"center"},o.createElement(j,{item:!0,xs:5},o.createElement(We,{productSelected:d,productListClone:i,arrowLeft:!0,title:"Product list",addToSelectedList:p,removeFromSelectedList:x})),o.createElement(j,{item:!0,xs:5},o.createElement(W,{item:d,arrowLeft:!1,title:"Product selected",removeFromSelectedList:x,addToSelectedList:p})))},qe=e=>{const{eventList:t,setEventList:s,productEventList:c,setProductEventList:l,updateProductEvent:d,productList:u,loading:i,showNoti:m,status:p,setStatus:x,setShowNoti:f}=e;return o.createElement(o.Fragment,null,o.createElement("div",{className:"d-flex justify-content-between align-items-center"},o.createElement(P,{variant:"h4",gutterBottom:!0},"Event"),o.createElement(de,{separator:"\u203A","aria-label":"breadcrumb"},o.createElement(ee,{to:"/admin"},"Home"),o.createElement(P,null,"Event"))),o.createElement("div",{className:"card__admin"},o.createElement(T,{style:{margin:"-25px"}},t&&t.map(r=>o.createElement(be,{style:{backgroundColor:"#343a40"},key:r.id},o.createElement(ke,{expandIcon:o.createElement(_e,null),"aria-controls":"panel1a-content",id:`panel1a-header-${r==null?void 0:r.id}`},o.createElement(P,null,r==null?void 0:r.name)),o.createElement(Se,null,o.createElement(Oe,{productList:u,item:r,setProductEventList:l,productEventList:c})))))),o.createElement("div",{className:"d-flex justify-content-center w-100"},o.createElement(te,{variant:"contained",className:"m-1",disabled:i,onClick:()=>d()},i&&o.createElement(oe,{disableShrink:!0,style:{color:"white",width:"14px",height:"14px",margin:"0 5px 0 0"}}),"Update")),m&&o.createElement(se,{type:p.type,message:p.message,setShowNoti:f}))},Xe=()=>{const[e,t]=n.exports.useState([]),[s,c]=n.exports.useState({}),[l,d]=n.exports.useState([]),[u,i]=n.exports.useState({}),[m,p]=n.exports.useState(!1),[x,f]=n.exports.useState(!1),r=n.exports.useCallback(()=>{B.get(G.LIST).then(a=>{var g;a.data.code===R.HTTP_OK&&t((g=a==null?void 0:a.data)==null?void 0:g.events)}).catch(a=>{i({type:"error",message:a.data?a.data.message:"Server error"}),p(!0)})},[]),y=n.exports.useCallback(()=>{B.get(ae.LIST).then(a=>{var g;a.data.code===R.HTTP_OK&&d((g=a==null?void 0:a.data)==null?void 0:g.products.map(({id:v,name:L})=>({id:v,name:L})))}).catch(a=>{i({type:"error",message:a.data?a.data.message:"Server error"}),p(!0)})},[]),S=n.exports.useCallback(()=>{f(!0),B.put(G.UPDATE,{data:s}).then(a=>{p(!0),f(!1),a.data.code===R.HTTP_OK&&i({type:"success",message:a.data.message})}).catch(({response:a})=>{p(!0),f(!1),a.data.code===R.UNPROCESSABLE_ENTITY&&Object.keys(a.data.errors).forEach(g=>{setError(g,{type:"custom",message:Object.values(a.data.errors[g])})}),i({type:"error",message:a.data?a.data.message:"Server error"})})},[]);return n.exports.useEffect(()=>{r(),y()},[]),o.createElement(qe,{eventList:e,setEventList:t,productEventList:s,setProductEventList:c,updateProductEvent:S,productList:l,loading:x,showNoti:m,status:u,setStatus:i,setShowNoti:p})};export{Xe as default};
