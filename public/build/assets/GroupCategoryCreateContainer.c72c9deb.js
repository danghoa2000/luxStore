import{a7 as P,R as e,T as u,aa as A,B as b,G as l,C as S,F as x,N as k,O as w,ar as R,as as q,at as D,i as j,S as U,c as H,r as c,au as Y,av as K,u as $,d as z,ae as J,q as G,a9 as M,aw as Q}from"./index.5ce80200.js";import{P as W}from"./ProductAvatar.1b82f846.js";import{B as X}from"./Breadcrumbs.f5b119d2.js";import{B as Z}from"./BorderColor.6ee4679d.js";import{R as ee,F,a as O}from"./RadioGroup.7a04bd2c.js";import"./index.834d2615.js";const te=d=>{const{redirectBack:f,handleCreate:y,toggleDirection:B,setToggleDirection:g,handleSubmit:_,control:o,reset:E,setValue:m,getValues:i,errors:r,loading:p,showNoti:C,status:h,setShowNoti:N,avatarRef:v}=d,[s]=P();return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement(u,{variant:"h4",gutterBottom:!0},"Group category"),e.createElement(X,{separator:"\u203A","aria-label":"breadcrumb"},e.createElement(A,{to:"/admin"},"Home"),e.createElement(A,{to:"/admin/group_category"},"Group category"),e.createElement(u,null,"Create"))),e.createElement("div",{style:{marginBottom:10}},e.createElement(b,{variant:"contained",onClick:()=>f()},"Back")),e.createElement("form",{onSubmit:_(y)},e.createElement("div",{className:"card__admin"},e.createElement(u,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Basic information"),e.createElement(l,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(l,{item:!0,xs:12},e.createElement(u,{variant:"h6",className:"cart_admin_title",gutterBottom:!0},s("product.list.table.avatar")),e.createElement(W,{control:o,setValue:m,getValues:i,errors:r,avatarRef:v,product:{}})),e.createElement(l,{item:!0,xs:6},e.createElement(S,{name:"group_category_code",control:o,render:({field:n})=>e.createElement(x,{variant:"standard"},e.createElement(k,{htmlFor:"userCode"},"Group category code"," ",e.createElement("span",{className:"required"})),e.createElement(w,{...n,startAdornment:e.createElement(R,{position:"start"},e.createElement(q,null)),placeholder:s("placehoder",{name:s("group_category.list.table.group_category_code")}),onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))}),r.group_category_code&&e.createElement("p",{className:"text-danger"},r.group_category_code.message)),e.createElement(l,{item:!0,xs:6},e.createElement(S,{name:"name",control:o,render:({field:n})=>e.createElement(x,{variant:"standard"},e.createElement(k,{htmlFor:"fullName"},"Name"),e.createElement(w,{id:"fullName",...n,startAdornment:e.createElement(R,{position:"start"},e.createElement(Z,null)),placeholder:s("placehoder",{name:s("group_category.list.table.name")}),onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))}),r.name&&e.createElement("p",{className:"text-danger"},r.name.message)))),e.createElement("div",{className:"card__admin"},e.createElement(u,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Setting"),e.createElement(l,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(l,{item:!0,xs:6},e.createElement("div",{className:"d-inline"},e.createElement(S,{name:"status",control:o,render:({field:n})=>e.createElement(x,null,e.createElement(D,{id:"status"},"Status",e.createElement("span",{className:"required"})),e.createElement(ee,{defaultValue:"1",...n,checked:"1"},e.createElement(F,{value:"1",control:e.createElement(O,null),label:"Active"}),e.createElement(F,{value:"0",control:e.createElement(O,null),label:"Block"})))}))))),e.createElement("div",{className:"d-flex justify-content-center w-100"},e.createElement(b,{variant:"contained",type:"submit",className:"m-1",disabled:p},p&&e.createElement(j,{disableShrink:!0,style:{color:"white",width:"14px",height:"14px",margin:"0 5px 0 0"}}),"Create"),e.createElement(b,{variant:"contained",type:"reset",className:"m-1 btn-cancel",onClick:()=>E()},"Clear"))),C&&e.createElement(U,{type:h.type,message:h.message,setShowNoti:N}))},ce=()=>{const d=H(),[f,y]=c.exports.useState(!1),[B,g]=c.exports.useState(!1),[_]=P(),[o,E]=c.exports.useState({}),[m,i]=c.exports.useState(!1),r=()=>d(-1),p=c.exports.useRef(),C=Y().shape({group_category_code:K().required(_("validate.required",{name:"Group Category code"}))}),{handleSubmit:h,control:N,reset:v,setValue:s,getValues:n,setError:t,formState:{errors:V}}=$({shouldUnregister:!1,defaultValues:{group_category_code:"",name:"",status:M.ACTIVE},resolver:Q(C)}),I=c.exports.useCallback(L=>{g(!0),z.post(J.CREATE,{...L}).then(a=>{a.data.code===G.HTTP_OK&&(E({type:"success",message:a.data.message}),v(),d(-1)),i(!0),g(!1)}).catch(({response:a})=>{a.data.code===G.UNPROCESSABLE_ENTITY&&Object.keys(a.data.errors).forEach(T=>{t(T,{type:"custom",message:Object.values(a.data.errors[T])})}),E({type:"error",message:a.data?a.data.message:"Server error"}),i(!0),g(!1)})},[]);return e.createElement(te,{redirectBack:r,handleCreate:I,toggleDirection:f,setToggleDirection:y,handleSubmit:h,control:N,reset:v,setValue:s,getValues:n,errors:V,loading:B,showNoti:m,status:o,setShowNoti:i,avatarRef:p})};export{ce as default};
