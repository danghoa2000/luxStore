import{a7 as I,R as e,T as p,aa as U,B,G as d,C as k,F as A,N as w,O as F,ar as R,as as K,at as W,i as $,S as z,c as J,r as s,ay as M,au as Q,av as X,d as P,ae as D,q as f,u as Z,a9 as ee,aw as te}from"./index.5ce80200.js";import{P as ae}from"./ProductAvatar.1b82f846.js";import{B as re}from"./Breadcrumbs.f5b119d2.js";import{B as se}from"./BorderColor.6ee4679d.js";import{R as oe,F as L,a as V}from"./RadioGroup.7a04bd2c.js";import"./index.834d2615.js";const ce=h=>{const{redirectBack:_,handleUpdate:v,toggleDirection:G,setToggleDirection:E,handleSubmit:N,control:a,reset:b,setValue:o,getValues:t,errors:l,loading:u,showNoti:C,status:y,setShowNoti:S,avatarRef:x,groupCategory:T}=h,[m]=I();return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement(p,{variant:"h4",gutterBottom:!0},"Group category"),e.createElement(re,{separator:"\u203A","aria-label":"breadcrumb"},e.createElement(U,{to:"/admin"},"Home"),e.createElement(U,{to:"/admin/manufacturer"},"Group category"),e.createElement(p,null,"Update"))),e.createElement("div",{style:{marginBottom:10}},e.createElement(B,{variant:"contained",onClick:()=>_()},"Back")),e.createElement("form",{onSubmit:N(v)},e.createElement("div",{className:"card__admin"},e.createElement(p,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Basic information"),e.createElement(d,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(d,{item:!0,xs:12},e.createElement(p,{variant:"h6",className:"cart_admin_title",gutterBottom:!0},m("product.list.table.avatar")),e.createElement(ae,{control:a,setValue:o,getValues:t,errors:l,avatarRef:x,product:T})),e.createElement(d,{item:!0,xs:6},e.createElement(k,{name:"group_category_code",control:a,render:({field:i})=>e.createElement(A,{variant:"standard"},e.createElement(w,{htmlFor:"userCode"},"Group category code"," ",e.createElement("span",{className:"required"})),e.createElement(F,{...i,disabled:!0,startAdornment:e.createElement(R,{position:"start"},e.createElement(K,null)),placeholder:m("placehoder",{name:m("group_category.list.table.group_category_code")}),onBlur:c=>{o(c.target.id,c.target.value?c.target.value.trim():"")}}))}),l.group_category_code&&e.createElement("p",{className:"text-danger"},l.group_category_code.message)),e.createElement(d,{item:!0,xs:6},e.createElement(k,{name:"name",control:a,render:({field:i})=>e.createElement(A,{variant:"standard"},e.createElement(w,{htmlFor:"fullName"},"Name"),e.createElement(F,{id:"fullName",...i,startAdornment:e.createElement(R,{position:"start"},e.createElement(se,null)),placeholder:m("placehoder",{name:m("group_category.list.table.name")}),onBlur:c=>{o(c.target.id,c.target.value?c.target.value.trim():"")}}))}),l.name&&e.createElement("p",{className:"text-danger"},l.name.message)))),e.createElement("div",{className:"card__admin"},e.createElement(p,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Setting"),e.createElement(d,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(d,{item:!0,xs:6},e.createElement("div",{className:"d-inline"},e.createElement(k,{name:"status",control:a,render:({field:i})=>e.createElement(A,null,e.createElement(W,{id:"status"},"Status",e.createElement("span",{className:"required"})),e.createElement(oe,{defaultValue:"1",...i,checked:"1"},e.createElement(L,{value:"1",control:e.createElement(V,null),label:"Active"}),e.createElement(L,{value:"0",control:e.createElement(V,null),label:"Block"})))}))))),e.createElement("div",{className:"d-flex justify-content-center w-100"},e.createElement(B,{variant:"contained",type:"submit",className:"m-1",disabled:u},u&&e.createElement($,{disableShrink:!0,style:{color:"white",width:"14px",height:"14px",margin:"0 5px 0 0"}}),"Update"),e.createElement(B,{variant:"contained",type:"reset",className:"m-1 btn-cancel",onClick:()=>b()},"Clear"))),C&&e.createElement(z,{type:y.type,message:y.message,setShowNoti:S}))},ge=()=>{const h=J(),[_,v]=s.exports.useState(!1),[G,E]=s.exports.useState(!1),[N,a]=s.exports.useState({}),[b,o]=s.exports.useState(!1),[t,l]=s.exports.useState(),{state:u}=M(),C=s.exports.useRef(),[y]=I(),S=()=>h(-1),x=Q().shape({group_category_code:X().required(y("validate.required",{name:"Group category code"}))}),T=s.exports.useCallback(()=>{P.get(D.SHOW,{params:{id:u.id}}).then(n=>{l(n.data.groupCategory),n.data.code===f.HTTP_NOT_FOUND&&(a({type:"error",message:n.data.message}),o(!0))}).catch(({response:n})=>{a({type:"error",message:n.data?n.data.message:"Server error"}),o(!0)})},[u]);s.exports.useEffect(()=>{T()},[u]);const{handleSubmit:m,control:i,reset:c,setValue:g,getValues:q,setError:H,formState:{errors:j}}=Z({shouldUnregister:!1,defaultValues:{group_category_code:"",name:"",status:ee.ACTIVE},resolver:te(x)});s.exports.useEffect(()=>{g("id",t?t.id:""),g("group_category_code",t?t.group_category_code:""),g("name",t?t.name:""),g("status",t?t.status:-1)},[t]);const Y=s.exports.useCallback(n=>{E(!0),P.put(D.UPDATE,{...n}).then(r=>{r.data.code===f.HTTP_OK&&a({type:"success",message:r.data.message}),r.data.code===f.HTTP_NOT_FOUND&&a({type:"error",message:r.data.message}),o(!0),E(!1)}).catch(({response:r})=>{r.data.code===f.UNPROCESSABLE_ENTITY&&Object.keys(r.data.errors).forEach(O=>{H(O,{type:"custom",message:Object.values(r.data.errors[O])})}),a({type:"error",message:r.data?r.data.message:"Server error"}),o(!0),E(!1)})},[]);return e.createElement(ce,{redirectBack:S,handleUpdate:Y,toggleDirection:_,setToggleDirection:v,handleSubmit:m,control:i,reset:c,setValue:g,getValues:q,errors:j,loading:G,showNoti:b,status:N,setShowNoti:o,avatarRef:C,groupCategory:t})};export{ge as default};
