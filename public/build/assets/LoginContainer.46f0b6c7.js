import{u as g,R as e,M as i,a as E,b as p,r as c,c as N,A as d,d as b,L as f,e as w}from"./index.5ce80200.js";import{s as u}from"./index.esm.78c798f0.js";const h=m=>{const{isLoginFailed:r,handeSubmit:o,loading:n}=m,a=g({criteriaMode:"all",defaultValues:{remember:!1}}),l=t=>{o(t)};return e.createElement("div",{className:"content"},e.createElement("div",{className:"container"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6 order-md-2"},e.createElement("img",{src:"https://preview.colorlib.com/theme/bootstrap/login-form-08/images/undraw_file_sync_ot38.svg",alt:"Image",className:"img-fluid"})),e.createElement("div",{className:"col-md-6 contents"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"mb-4"},e.createElement("h3",null,"Sign In to"," ",e.createElement("strong",null,"ELITE")),e.createElement("p",{className:"mb-4"},"Wellcome To Our System")),r&&e.createElement("span",{className:"text-base text-danger"},r.message),e.createElement("form",{onSubmit:a.handleSubmit(l)},e.createElement("div",{className:"form-group first"},e.createElement("label",{htmlFor:"email"},"email"),e.createElement("input",{type:"text",className:"form-control",id:"email",...a.register("email",{required:{value:!0,message:"this field is required"},maxLength:i,minLength:E})}),e.createElement(u,{errors:a.formState.errors,name:"email",render:({message:t})=>e.createElement("p",{className:"text-danger"},t)})),e.createElement("div",{className:"form-group last mb-4"},e.createElement("label",{htmlFor:"password"},"Password"),e.createElement("input",{type:"password",className:"form-control",id:"password",...a.register("password",{required:{value:!0,message:"this field is required"},maxLength:i})}),e.createElement(u,{errors:a.formState.errors,name:"password",render:({message:t})=>e.createElement("p",{className:"text-danger"},t)})),e.createElement("div",{className:"d-flex mb-5 align-items-center justify-content-between"},e.createElement("label",{className:"control control--checkbox mb-0"},e.createElement("span",{className:"caption"},"Remember me"),e.createElement("input",{type:"checkbox",...a.register("remember")}),e.createElement("div",{className:"control__indicator"})),e.createElement("span",{className:"ml-auto"},e.createElement("a",{href:"#",className:"forgot-pass"},"Forgot Password"))),e.createElement("input",{type:"submit",value:"Log In",disabled:n,className:"btn text-white btn-block btn-primary"}))))))))},I=()=>{const{setAuth:m}=p(),[r,o]=c.exports.useState({}),n=N();c.exports.useEffect(()=>{window.sessionStorage.getItem(d)&&n("/admin")},[]);const a=async t=>{await b.post(f.LOGIN,{email:t.email,password:t.password}).then(s=>{m(s.data.info),window.sessionStorage.setItem(d,s.data.access_token),window.sessionStorage.setItem(w,JSON.stringify(s.data.info)),n("/admin")}).catch(s=>{o({status:s.response.data.code,message:s.response.data.message})})},l=c.exports.useCallback(t=>{a(t)},[]);return e.createElement(h,{isLoginFailed:r,handeSubmit:l})};export{I as default};
