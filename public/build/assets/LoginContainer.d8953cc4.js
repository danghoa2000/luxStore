import{u as p,R as e,M as i,a as f,b as N,r as l,c as b,bo as d,d as S,L as w,bp as h}from"./index.5ce80200.js";import{s as u}from"./index.esm.78c798f0.js";const v=o=>{const{isLoginFailed:n,handeSubmit:s}=o,t=p({criteriaMode:"all",defaultValues:{remember:!1}}),c=a=>{s(a)};return e.createElement("div",{className:"content"},e.createElement("div",{className:"container"},e.createElement("div",{className:"row"},e.createElement("div",{className:"col-md-6 order-md-2"},e.createElement("img",{src:"https://preview.colorlib.com/theme/bootstrap/login-form-08/images/undraw_file_sync_ot38.svg",alt:"Image",className:"img-fluid"})),e.createElement("div",{className:"col-md-6 contents"},e.createElement("div",{className:"row justify-content-center"},e.createElement("div",{className:"col-md-8"},e.createElement("div",{className:"mb-4"},e.createElement("h3",null,"Sign In to"," ",e.createElement("strong",null,"ELITE")),e.createElement("p",{className:"mb-4"},"Wellcome To Our System")),n&&e.createElement("span",{className:"text-base text-danger"},n.message),e.createElement("form",{onSubmit:t.handleSubmit(c)},e.createElement("div",{className:"form-group first"},e.createElement("label",{htmlFor:"email"},"email"),e.createElement("input",{type:"text",className:"form-control",id:"email",...t.register("email",{required:{value:!0,message:"this field is required"},maxLength:i,minLength:f})}),e.createElement(u,{errors:t.formState.errors,name:"email",render:({message:a})=>e.createElement("p",{className:"text-danger"},a)})),e.createElement("div",{className:"form-group last mb-4"},e.createElement("label",{htmlFor:"password"},"Password"),e.createElement("input",{type:"password",className:"form-control",id:"password",...t.register("password",{required:{value:!0,message:"this field is required"},maxLength:i})}),e.createElement(u,{errors:t.formState.errors,name:"password",render:({message:a})=>e.createElement("p",{className:"text-danger"},a)})),e.createElement("div",{className:"d-flex mb-5 align-items-center justify-content-between"},e.createElement("label",{className:"control control--checkbox mb-0"},e.createElement("span",{className:"caption"},"Remember me"),e.createElement("input",{type:"checkbox",...t.register("remember")}),e.createElement("div",{className:"control__indicator"})),e.createElement("span",{className:"ml-auto"},e.createElement("a",{href:"#",className:"forgot-pass"},"Forgot Password"))),e.createElement("input",{type:"submit",value:"Log In",className:"btn text-white btn-block btn-primary"}))))))))},I=()=>{const{setUser:o}=N(),[n,s]=l.exports.useState(!1),[t,c]=l.exports.useState({}),a=b(),E=r=>{s(!0),S.post(w.LOGIN,{email:r.email,password:r.password,isCustomer:!0}).then(m=>{o(m.data.info),window.sessionStorage.setItem(d,m.data.access_token),window.sessionStorage.setItem(h,JSON.stringify(m.data.info)),a("/elite"),s(!1)}).catch(m=>{s(!1)})},g=l.exports.useCallback(r=>{E(r)},[]);return l.exports.useEffect(()=>{window.sessionStorage.getItem(d)&&a("/elite")},[]),e.createElement(v,{loading:n,isLoginFailed:t,handeSubmit:g})};export{I as default};
