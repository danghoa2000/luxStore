import{a7 as V,R as e,T as o,aa as w,B as T,G as s,C as i,F as d,N as v,O as C,ar as N,as as q,at as D,i as U,S as j,c as P,r as u,au as G,av as H,u as K,d as W,aC as Y,q as F,a9 as $,aw as z}from"./index.5ce80200.js";import{B as J}from"./Breadcrumbs.f5b119d2.js";import{B as Q}from"./BorderColor.6ee4679d.js";import{C as X}from"./Call.484a3e82.js";import{A as Z}from"./AddHomeWork.5fba4997.js";import{R as ee,F as R,a as M}from"./RadioGroup.7a04bd2c.js";const te=b=>{const{redirectBack:S,handleCreate:B,toggleDirection:y,setToggleDirection:E,handleSubmit:_,control:c,reset:g,setValue:m,getValues:p,errors:r,loading:h,showNoti:A,status:f,setShowNoti:x}=b,[n]=V();return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex justify-content-between align-items-center"},e.createElement(o,{variant:"h4",gutterBottom:!0},"Manufacturer"),e.createElement(J,{separator:"\u203A","aria-label":"breadcrumb"},e.createElement(w,{to:"/admin"},"Home"),e.createElement(w,{to:"/admin/manufacturer"},"Manufacturer"),e.createElement(o,null,"Create"))),e.createElement("div",{style:{marginBottom:10}},e.createElement(T,{variant:"contained",onClick:()=>S()},"Back")),e.createElement("form",{onSubmit:_(B)},e.createElement("div",{className:"card__admin"},e.createElement(o,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Basic information"),e.createElement(s,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(s,{item:!0,xs:6},e.createElement(i,{name:"manufacturer_code",control:c,render:({field:a})=>e.createElement(d,{variant:"standard"},e.createElement(v,{htmlFor:"userCode"},"Manufacturer code ",e.createElement("span",{className:"required"})),e.createElement(C,{...a,startAdornment:e.createElement(N,{position:"start"},e.createElement(q,null)),placeholder:n("placehoder",{name:n("manufacturer.list.table.manufacturer_code")}),onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))}),r.manufacturer_code&&e.createElement("p",{className:"text-danger"},r.manufacturer_code.message)),e.createElement(s,{item:!0,xs:6},e.createElement(i,{name:"name",control:c,render:({field:a})=>e.createElement(d,{variant:"standard"},e.createElement(v,{htmlFor:"fullName"},"Full name"),e.createElement(C,{id:"fullName",...a,startAdornment:e.createElement(N,{position:"start"},e.createElement(Q,null)),placeholder:n("placehoder",{name:n("manufacturer.list.table.name")}),onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))}),r.name&&e.createElement("p",{className:"text-danger"},r.name.message)))),e.createElement("div",{className:"card__admin"},e.createElement(o,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Contact infomation"),e.createElement(s,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(s,{item:!0,xs:6},e.createElement(i,{name:"telephone",control:c,render:({field:a})=>e.createElement(d,{variant:"standard"},e.createElement(v,{htmlFor:"telephone"},"Telephone"),e.createElement(C,{id:"telephone",...a,startAdornment:e.createElement(N,{position:"start"},e.createElement(X,null)),placeholder:"xxx-xxx-xxxx",onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))}),r.telephone&&e.createElement("p",{className:"text-danger"},r.telephone.message)),e.createElement(s,{item:!0,xs:6},e.createElement(i,{name:"address",control:c,render:({field:a})=>e.createElement(d,{variant:"standard"},e.createElement(v,{htmlFor:"address"},"Address"),e.createElement(C,{id:"address",...a,startAdornment:e.createElement(N,{position:"start"},e.createElement(Z,null)),placeholder:n("placehoder",{name:n("manufacturer.list.table.address")}),onBlur:t=>{m(t.target.id,t.target.value?t.target.value.trim():"")}}))})))),e.createElement("div",{className:"card__admin"},e.createElement(o,{variant:"h5",className:"cart_admin_title",gutterBottom:!0},"Setting"),e.createElement(s,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:10},e.createElement(s,{item:!0,xs:6},e.createElement("div",{className:"d-inline"},e.createElement(i,{name:"status",control:c,render:({field:a})=>e.createElement(d,null,e.createElement(D,{id:"status"},"Status",e.createElement("span",{className:"required"})),e.createElement(ee,{defaultValue:"1",...a,checked:"1"},e.createElement(R,{value:"1",control:e.createElement(M,null),label:"Active"}),e.createElement(R,{value:"0",control:e.createElement(M,null),label:"Block"})))}))))),e.createElement("div",{className:"d-flex justify-content-center w-100"},e.createElement(T,{variant:"contained",type:"submit",className:"m-1",disabled:h},h&&e.createElement(U,{disableShrink:!0,style:{color:"white",width:"14px",height:"14px",margin:"0 5px 0 0"}}),"Create"),e.createElement(T,{variant:"contained",type:"reset",className:"m-1 btn-cancel",onClick:()=>g()},"Clear"))),A&&e.createElement(j,{type:f.type,message:f.message,setShowNoti:x}))},me=()=>{const b=P(),[S,B]=u.exports.useState(!1),[y,E]=u.exports.useState(!1),[_]=V(),[c,g]=u.exports.useState({}),[m,p]=u.exports.useState(!1),r=()=>b(-1),h=G().shape({manufacturer_code:H().required(_("validate.required",{name:"Manufacturer code"}))}),{handleSubmit:A,control:f,reset:x,setValue:n,getValues:a,setError:t,formState:{errors:I}}=K({shouldUnregister:!1,defaultValues:{mannufacturer_code:"",name:"",telephone:"",address:"",status:$.ACTIVE},resolver:z(h)}),L=u.exports.useCallback(O=>{E(!0),W.post(Y.CREATE,{...O}).then(l=>{l.data.code===F.HTTP_OK&&(g({type:"success",message:l.data.message}),x()),p(!0),E(!1)}).catch(({response:l})=>{l.data.code===F.UNPROCESSABLE_ENTITY&&Object.keys(l.data.errors).forEach(k=>{t(k,{type:"custom",message:Object.values(l.data.errors[k])})}),g({type:"error",message:l.data?l.data.message:"Server error"}),p(!0),E(!1)})},[]);return e.createElement(te,{redirectBack:r,handleCreate:L,toggleDirection:S,setToggleDirection:B,handleSubmit:A,control:f,reset:x,setValue:n,getValues:a,errors:I,loading:y,showNoti:m,status:c,setShowNoti:p})};export{me as default};
