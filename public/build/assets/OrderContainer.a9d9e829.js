import{a7 as R,c as T,R as e,T as s,G as r,o as k,r as a,d as B,bs as M,q as D}from"./index.5ce80200.js";import"./OrderStatus.5d0e6fa3.js";import{S as F}from"./ShoppingBagOutlined.e539503d.js";import{f as j}from"./index.d7c082dd.js";import{p as G}from"./index.ac026f14.js";import{S as I}from"./Stack.5c2058c0.js";import{P as q}from"./Pagination.02c54dfc.js";import"./index.834d2615.js";import"./RateReview.2cdcdcbe.js";import"./LocalShipping.a6bfb39a.js";import"./LastPage.e4998160.js";const z=({open:E,setOpen:x,order:S,orderBy:f,page:c,setPage:v,rowsPerPage:l,handleChangePage:_,handleChangeRowsPerPage:i,orderList:o,showNoti:d,status:O,setShowNoti:y,setSearchFiled:P,totalRecord:g})=>{const[p]=R(),m=T();return e.createElement(e.Fragment,null,e.createElement("div",{className:"d-flex align-items-center profile__bar__item-active",style:{marginBottom:20}},e.createElement(F,null),e.createElement(s,{variant:"h6",margin:"0",style:{fontWeight:"bold"}},"Orders")),e.createElement("div",{className:"order__list"},e.createElement("div",{className:"order__item",key:-1},e.createElement(r,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:2},e.createElement(r,{item:!0,xs:2},e.createElement(s,{variant:"h8",className:"font-bold"},"Order #")),e.createElement(r,{item:!0,xs:4},e.createElement(s,{variant:"h8",className:"font-bold"},"Status")),e.createElement(r,{item:!0,xs:4},e.createElement(s,{variant:"h8",className:"font-bold"},"Date purchased")),e.createElement(r,{item:!0,xs:2},e.createElement(s,{variant:"h8",className:"font-bold"},"Total")))),o&&Object.keys(o).length>0&&Object.values(o).map(t=>e.createElement("div",{className:"order__item",key:t.id,onClick:()=>m("/elite/profile/order/detail",{state:{id:t.id}})},e.createElement(r,{container:!0,sx:{margin:0,padding:1,width:"100%"},spacing:2,key:t.id},e.createElement(r,{item:!0,xs:2},e.createElement(s,{variant:"h8"},t.id)),e.createElement(r,{item:!0,xs:4},e.createElement(s,{variant:"h8"},p(`order.status.${t.status}`))),e.createElement(r,{item:!0,xs:4},e.createElement(s,{variant:"h8"},t!=null&&t.created_at?j(G(t==null?void 0:t.created_at),"dd MMM, yyyy"):"")),e.createElement(r,{item:!0,xs:2},e.createElement(s,{variant:"h8"},k(t.price||0))))))),e.createElement("div",{className:"d-flex mt-3 justify-content-end w-100"},e.createElement("div",{className:"pagination"},e.createElement(I,{spacing:2},e.createElement(q,{count:Math.ceil(g/l),page:c,onChange:(t,h)=>v(h)})))))},Y=()=>{const[E,x]=a.exports.useState([]),[S,f]=a.exports.useState(!0),[c,v]=a.exports.useState("asc"),[l,_]=a.exports.useState("product_code"),[i,o]=a.exports.useState(1),[d,O]=a.exports.useState(5),[y,P]=a.exports.useState({}),[g,p]=a.exports.useState(!1),[m,t]=a.exports.useState({}),[h,N]=a.exports.useState(0),w=(u,n)=>{o(n)},C=u=>{O(parseInt(u.target.value,10)),o(0)},b=a.exports.useCallback(()=>{const u={searchField:m,pageSize:d,currentPage:i,currentSort:l,currentDirection:c};B.get(M.GET_ORDER,{params:{...u}}).then(n=>{n.data.code===D.HTTP_OK&&(x(n.data.orders),N(n.data.total))}).catch(n=>{P({type:"error",message:n.data?n.data.message:"Server error"}),p(!0)})},[c,l,i,d,m]);return a.exports.useEffect(()=>{b()},[c,l,i,d,m]),e.createElement(z,{open:S,setOpen:f,order:c,orderBy:l,page:i,setPage:o,rowsPerPage:d,handleChangePage:w,handleChangeRowsPerPage:C,orderList:E,showNoti:g,status:y,setShowNoti:p,setSearchFiled:t,totalRecord:h})};export{Y as default};
